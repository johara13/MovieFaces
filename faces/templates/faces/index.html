<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="upload image file and output emotion person is feeling">
  <meta name="author" content="Jimmy O'Hara and Dan Sullivan">
  <link rel="icon" href="{% static 'faces/images/favicon.ico' %}">

  <title>Faces</title>
  <link href="{% static 'faces/flexcarousel/flexslider.css' %}" rel="stylesheet" type="text/css">
  <!-- Bootstrap core CSS -->
  <link href="{% static 'faces/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
  <!-- Bootstrap theme -->
  <link href="{% static 'faces/bootstrap-theme.css' %}" rel="stylesheet" type="text/css">
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->

  <!-- Custom styles for this template -->

  <link href="{% static 'faces/theme.css' %}" rel="stylesheet" type="text/css">

  <!--<link href="{% static 'faces/owl.carousel.css' %}" rel="stylesheet" type="text/css">-->
  <!--<link href="{% static 'faces/owl.theme.css' %}" rel="stylesheet" type="text/css">-->

  <!--<link href="{% static 'faces/prettify.css' %}" rel="stylesheet" type="text/css">-->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <!--<script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.min.js">\x3C/script>')</script>-->
  <script src="{% static 'faces/js/jquery.flexslider.js' %}"></script>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <!--<script type="text/javascript" charset="utf-8">-->
  <!--$(window).on('load',function() {-->
  <!--$('.flexslider').flexslider();-->
  <!--});-->
  <!--</script>-->
  <script type="text/javascript">

$(window).on('load', function() {
  // The slider being synced must be initialized first
  $('#carousel').flexslider({
    animation: "slide",
    controlNav: false,
    animationLoop: false,
    slideshow: false,
    itemWidth: 210,
    itemMargin: 5,
    asNavFor: '#slider'
  });

  $('#slider').flexslider({
    animation: "slide",
    controlNav: false,
    animationLoop: false,
    slideshow: false,
    sync: "#carousel"
  });
});


  </script>


</head>

<body>

<!-- Fixed navbar -->
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
              aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="{% url "list" %}">Faces</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="{% url "list" %}">Home</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<div class="container theme-showcase" role="main">

  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <h1>Faces</h1>

    <p>Outputs emotion face feels. Can be Joy, Sorrow, Anger, Surprise</p>
  </div>
  <div class="page-header">
    <h1>Upload file with face</h1>
  </div>
  <div class="row">
    <div class="col-md-4">
      <form action="{% url "list" %}" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <p>{{ form.non_field_errors }}</p>

      <p>{{ form.docfile.label_tag }} {{ form.docfile.help_text }}</p>

      <p>
        {{ form.docfile.errors }}
        {{ form.docfile }}
      </p>

      <p><input type="submit" value="Upload"/></p>
      </form>
      {% if result %}
      <blockquote>The person in the picture is most likely feeling: {{ result }}</blockquote>
      {% endif %}
    </div>
    <div class="col-md-6">
      {% if ifile %}
      <!-- <img src="{{ ifile }}" class="img-rounded" alt="Upload Image"> -->
      <video width="320" height="240" controls>
        <source src="{{ ifile.docfile.url }}" type="video/mp4">
      </video>
      <blockquote>This video has a Joy score of: {{ ifile.v_scoreHappy }}</blockquote>
      <blockquote>This video has an Anger score of: {{ ifile.v_scoreAngry }}</blockquote>
      <blockquote>This video has a Sorrow score of: {{ ifile.v_scoreSad }}</blockquote>
      <blockquote>This video has a Surprise score of: {{ ifile.v_scoreSurprise }}</blockquote>
      <div id="slider" class="flexslider">
        <ul class="slides">
          {% for picture in ifile.picture_set.all %}
          {% if picture.numFaces >= 1 %}
          <li>
          <img src="{{ picture.picfile.url }}">
          <blockquote>Person 1 is feeling: {{ picture.face1 }}</blockquote>
          {% endif %}
          {% if picture.numFaces >= 2 %}
          <blockquote>Person 2 is feeling: {{picture.face2 }}</blockquote>
          {% endif %}
          {% if picture.face3 %}
          <blockquote>Person 3 is feeling: {{picture.face3 }}</blockquote>
          {% endif %}
          {% if picture.face4 %}
          <blockquote>Person 4 is feeling: {{picture.face4 }}</blockquote>
          {% endif %}
          </li>
          {% endfor %}
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out001.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out002.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out003.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out004.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out005.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out006.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out007.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out008.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out009.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out010.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out011.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out012.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out013.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out014.png' %}"/>-->
          <!--</li><li>-->
          <!--<img src="{% static 'faces/images/out015.png' %}"/>-->
        <!--</li><li>-->
          <!--<img src="{% static 'faces/images/out016.png' %}"/>-->
        <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out017.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out018.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out019.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out020.png' %}"/>-->
          <!--</li>-->
          <!--<li>-->
            <!--<img src="{% static 'faces/images/out021.png' %}"/>-->
          <!--</li>-->
        </ul>
      </div>

        <div id="carousel" class="flexslider">
          <ul class="slides">
            {% for picture in ifile.picture_set.all %}
            {% if picture.numFaces >= 1 %}
            <li>
              <img src="{{ picture.picfile.url }}"/>
            </li>
            {% endif %}
            {% endfor %}
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out001.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out002.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out003.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out004.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out005.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out006.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out007.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out008.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out009.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out010.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out011.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out012.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out013.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out014.png' %}"/>-->
            <!--</li><li>-->
            <!--<img src="{% static 'faces/images/out015.png' %}"/>-->
          <!--</li><li>-->
            <!--<img src="{% static 'faces/images/out016.png' %}"/>-->
          <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out017.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out018.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out019.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out020.png' %}"/>-->
            <!--</li>-->
            <!--<li>-->
              <!--<img src="{% static 'faces/images/out021.png' %}"/>-->
            <!--</li>-->
            <!-- items mirrored twice, total of 12 -->
          </ul>
        </div>
      {% endif %}
    </div>
  </div>

  <!--<video width="320" height="240" controls>-->
    <!--<source src="{% static 'faces/images/jurassicparkf.mp4' %}" type="video/mp4">-->
  <!--</video>-->

  {% if documents %}
  <ul>
    {% for document in documents %}
    <!--<li><a href="{{ document.docfile.url }}">{{ document.docfile.name }}</a></li> -->
    <li><a href="{% url "results" document.id %}">{{ document.docfile.name }} Happy: {{ document.v_scoreHappy }}  Sad: {{ document.v_scoreSad }} Surprise: {{ document.v_scoreSurprise }}  Angry: {{ document.v_scoreAngry }}</a></li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No documents.</p>
  {% endif %}


</div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>-->
    <!--<script>window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')</script>-->
    <script src="{% static 'faces/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'faces/js/docs.min.js' %}"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="{% static 'faces/js/ie10-viewport-bug-workaround.js' %}"></script>
  </body>
</html>
